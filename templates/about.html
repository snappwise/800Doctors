{%load static%}
{% load custom_filters %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.lordicon.com/lordicon.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="{% static 'stylesheets/output.css' %}">
    <title>Healthcare Packages</title>
</head>

<body>
    {% include 'whatsapp.html' %}

    {% include 'navbar.html' %}
    <section id="about" class="pt-16 lg:pt-20">
        <div class="section-container">
            <div class="section-image">
                <img src="{% static 'assets/images/about-img.png' %}" alt="">
            </div>
            <div class="section-content">
                <h2 class="section-heading">About Us</h2>
                <h1 class="sub-heading">Exceptional Care, <br>Anytime, Anywhere</h1>
                <p>800DOCTOR is a leading premium healthcare provider specializing in doctor-on-call and non-clinic
                    based medical services in Dubai and the UAE. Since 2007, we've pioneered doctor-at-home and
                    nurse-at-home services, growing into an extensive team of medical experts offering a wide range of
                    home healthcare solutions.</p>
            </div>
        </div>
    </section>
    <section id="timeline">
        <div class="section-container">
            <div class="section-header">
                <h2 class="section-heading text-center">Our Timeline</h2>
                <p>Delivering excellent services through decades</p>
            </div>
            <div class="timeline text-left">
                {% for journey in journeys %}
                <div class="Container {% cycle 'left-container' 'right-container' %}">
                    <div class="img">
                        <span class="timeline-dot"></span>
                    </div>
                    <div class="text-box">
                        <p class="card-heading">{{ journey.journey_title }}</p>
                        <p>{{ journey.journey_description }}</p>
                        <span class="{% if forloop.counter0|divisibleby:2 %}left-container-arrow{% else %}right-container-arrow{% endif %}"></span>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    
    <section id="features">
        <div class="section-container">
            <div class="section-header">
                <h2 class="section-heading text-center">Why Choose Us</h2>
                <p>Exceptional Home Healthcare Services</p>
            </div>
            <div class="features-container ">
                <div class="feature-box">
                    <lord-icon src="https://cdn.lordicon.com/ntcrpjuj.json" trigger="hover" class="service-card-icon"
                        colors="primary:#262626,secondary:#0061ff">
                    </lord-icon>
                    <h1 class="feature-title font-semibold text-black"> Home Healing</h1>
                    <p>You can heal at home</p>
                </div>
                <div class="feature-box">
                    <lord-icon src="https://cdn.lordicon.com/asajomrp.json" trigger="hover" class="service-card-icon"
                        colors="primary:#262626,secondary:#0061ff">
                    </lord-icon>
                    <h1 class="feature-title font-semibold text-black"> Satisfied Clients</h1>
                    <p>Join our 100,000+ happy customers </p>
                </div>
                <div class="feature-box">
                    <lord-icon src="https://cdn.lordicon.com/rddqfodm.json" trigger="hover" class="service-card-icon"
                        colors="primary:#262626,secondary:#0061ff">
                    </lord-icon>
                    <h1 class="feature-title font-semibold text-black"> Qualified Experts</h1>
                    <p>Trusted care from skilled professionals</p>
                </div>
                <div class="feature-box">
                    <lord-icon src="https://cdn.lordicon.com/jjoolpwc.json" trigger="hover" class="service-card-icon"
                        colors="primary:#262626,secondary:#0061ff">
                    </lord-icon>
                    <h1 class="feature-title font-semibold text-black"> Personalized Care</h1>
                    <p>Exceptional , friendly and affordable service</p>
                </div>
                <div class="feature-box">
                    <lord-icon src="https://cdn.lordicon.com/trkmlure.json" trigger="hover" class="service-card-icon"
                        colors="primary:#262626,secondary:#0061ff">
                    </lord-icon>
                    <h1 class="feature-title font-semibold text-black"> Anywhere Service </h1>
                    <p>Convinient care at home , office , or hotel.</p>
                </div>
                <div class="feature-box">
                    <lord-icon src="https://cdn.lordicon.com/ynfkqjnz.json" trigger="hover" class="service-card-icon"
                        colors="primary:#262626,secondary:#0061ff">
                    </lord-icon>
                    <h1 class="feature-title font-semibold text-black"> 24/7 Support </h1>
                    <p>Round-the-clock medical asssistance</p>
                </div>
            </div>
    </section>
    <section id="about">
        <div class="section-container">
            <div class="section-content text-black">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum dolor atque consectetur animi fuga
                    nesciunt labore nisi odio id repudiandae.</p>
                <p>800DOCTOR is a leading premium healthcare provider specializing in doctor-on-call and non-clinic
                    based medical services in Dubai and the UAE. Since 2007, we've pioneered doctor-at-home and
                    nurse-at-home services, growing into an extensive team of medical experts offering a wide range of
                    home healthcare solutions.
                </p>
                <ul>
                    <li class="list-disc list-inside">Lorem ipsum dolor sit amet
                        fugit.</li>
                    <li class="list-disc list-inside">Lorem ipsum dolor sit amet elit. Eius,
                        fugit.</li>
                    <li class="list-disc list-inside">Lorem ipsum us,
                        fugit.</li>
                    <li class="list-disc list-inside">Lorem ipsum dolor sit amet consectetur adipisicing elit. Eius,
                        fugit.</li>
                    <li class="list-disc list-inside">Lorem ipsum dolor sit amet consectetur adipisicing elit. Eius,
                        fugit.</li>
                </ul>

            </div>
            <div class="section-image">
                <img class="h-full w-full object-cover rounded-lg" src="{% static 'assets/images/doc.jpg' %}" alt="">
            </div>
        </div>
    </section>
    <section id="testimonials">
        <div class="section-container">
            <div class="section-header">
                <h2 class="section-heading text-center">What Our Clients Say</h2>
                <p>Hear from our satisfied clients who have experienced our exceptional healthcare services.</p>
            </div>
            <div class="swiper testimonial-swiper overflow-hidden relative ">
                <div class="testimonial-wrapper swiper-wrapper">
                    {% for testimonial in testimonials %}
                    <div class="swiper-slide testimonial-card">
                        <div class="stars text-primary-700">
                            {% for _ in testimonial.full_rating|range_filter %}
                                <i class="bi bi-star-fill"></i>  {# Full star #}
                            {% endfor %}

                            {% if testimonial.half_rating %}
                                <i class="bi bi-star-half"></i>  {# Half star #}
                            {% endif %}

                            {% for _ in testimonial.empty_rating|range_filter %}
                                <i class="bi bi-star"></i>  {# Empty star #}
                            {% endfor %}


                        </div>
                        <p class="person-testimony">
                            "{{ testimonial.testimonial }}"
                        </p>
                        <div>
                            <p class="person-name">{{ testimonial.author }}</p>
                        </div>
                    </div>
                    {% empty %}
                        <p>No testimonials available.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
    <section id="getInTouch">
        <div class="section-container">
            <div class="section-header">
                <h2 class="section-heading text-center">Get in touch</h2>
                <p>We'd love to hear from you. Please fill out this form.</p>
            </div>
            <div class="service-page-contact">

                <iframe class="image-container "
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.1083480481043!2d55.13546697537745!3d25.064316577796763!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3e5f6dfe6ae6d063%3A0x9e3781fb69e30573!2s800DOCTOR%20-%20Doctor%20on%20Call%20Dubai%20%7C%20Home%20Nursing%2C%20Home%20IV%20Drip%2C%20Home%20Blood%20Test%2C%20Physiotherapy%20at%20Home%2C%20Home%20Health%20Care%20Dubai!5e0!3m2!1sen!2sin!4v1723834080180!5m2!1sen!2sin"
                    height="100%" width="100%" style="border:0;" allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"></iframe>
                    <form class="form-container"  id="enquiryForm" method="post">
                        <div class="dual-input">
                            <div class="input-container">
                                <label for="first-name">First name</label>
                                <input id="first-name" name="first_name" placeholder="First name" type="text" required>
                            </div>
                            <div class="input-container">
                                <label for="last-name">Last name</label>
                                <input id="last-name" name="last_name" placeholder="Last name" type="text" required>
                            </div>
                        </div>
                        <div class="input-container">
                            <label for="email">Email</label>
                            <input id="email" name="email" placeholder="you@company.com" type="email" required>
                        </div>
                        <div class="input-container">
                            <label for="phno">Phone Number</label>
                            <input id="phno" name="phone_number" placeholder="123456789" type="number" required>
                        </div>
                        <div class="input-container">
                            <label for="message">Message</label>
                            <textarea minlength="10" maxlength="999" id="message" name="message" placeholder="Enter Your Message" rows="5" required></textarea>
                        </div>
                        <div class="input-check-label">
                            <input id="terms" name="terms" type="checkbox" required>
                            <label class="input-container-label" for="terms">You agree to our friendly
                                <a class="underline" href="#">Privacy Policy</a> </label>
                        </div>
                        <button type="submit" class="cta-primary">Send Message</button>
    
                    </form>
            </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('enquiryForm');
            form.addEventListener('submit', (event) => {
                event.preventDefault();
        
                const formData = new FormData(form);
        
                const data = {
                    first_name: formData.get('first_name'),
                    last_name: formData.get('last_name'),
                    user_email: formData.get('email'),
                    phone_number: formData.get('phone_number'),
                    message: formData.get('message'),
                    terms: formData.get('terms') ? 'on' : 'off'
                };
        
                console.log('Sending data:', data);  // Log the data being sent
        
                fetch('{% url "general-enquiry" %}', { // Use Django template tag to insert the URL
                    method: 'POST',
                    body: JSON.stringify(data),
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django security
                    }
                })
                .then(response => {
                    if (!response.ok) {
                        return response.json().then(errorData => {
                            throw new Error(errorData.message || 'Network response was not ok');
                        });
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.status === 'success') {
                        alert('Enquiry submitted successfully!');
                        form.reset();
                    } else {
                        alert('Failed to submit enquiry. Please try again.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred: ' + error.message);
                });
            });
        });
    </script>
    
    {% include 'footer.html' %}
    <script src="{% static 'scripts/whatsapp.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="{% static 'scripts/swiper.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.js"></script>
</body>

</html>